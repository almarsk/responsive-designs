<!DOCTYPE html>
<html>
    <head>
        <style>
            .rnb {
                width: 300px;
                height: 300px; 
          
            }
            #settings{
                margin: 50px;
                
            }
            .valueChange{
                width: 500px;
            }
        </style>

    </head>
    <body>
        <div id="settings">
            <div id="x">
                <label>x</label>
                <input value="0" class="valueChange" type="range" min="0" max="1530">
            </div>
            <div id="y">
                <label>y</label>
                <input value="0" class="valueChange" type="range" min="0" max="1530">
            </div>           
        </div>    
        <div class="rnb"></div>

        <script type="text/javascript">

            var backgroundImage = 'radial-gradient(rgba(255,0,0,0.4), rgba(0,0,255,0.4), rgba(255,0,0,0.4), rgba(0,0,255,0.4), rgba(255,0,0,0.4), rgba(0,0,255,0.4))'
            var rnb = document.querySelectorAll('.rnb')
            var valueChange = document.querySelectorAll('.valueChange')
            repaint()
          
            function repaint(){
                rnb.forEach(item=>{
                item.style.backgroundImage = backgroundImage
                //console.log('funguju')
            })
            }

            valueChange.forEach((item, index)=>{
                item.addEventListener("input", e=>{
                    const regex = /rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0\.\d{1,2}|1)\s*\)/g;
                    const rgbas = backgroundImage.match(regex);
                    
                    index == 0 
                    ? backgroundImage = "linear-gradient("+calculateColor(e.target.value)+","+rgbas[1]+","+calculateColor(e.target.value+50)+","+rgbas[3]+","+calculateColor(e.target.value+100)+","+rgbas[5]+",0.4)"
                    : backgroundImage = "linear-gradient("+rgbas[0]+","+calculateColor(e.target.value)+","+rgbas[2]+","+calculateColor(e.target.value+50)+","+rgbas[4]+","+calculateColor(e.target.value+100)+",0.4)"
                    console.log(backgroundImage)
                    console.log(e.target.value)
                    repaint()
                })              
            })

            function calculateColor(value){
                var r, g, b
                 console.log("value"+value) 
                if (value<0){value=value+(value*(-1))}
                var section = Math.floor((value%1530)/(1530/6))
                var withinSection = Math.floor(255*((value%1530)/(1530/6)-Math.floor((value%1530)/((1530/6)))))
                /* console.log("section "+section)
                console.log("withinSection "+withinSection) */
                switch (section) {
                    case 0: 
                        r = 255
                        g = withinSection
                        b = 0
                        break;
                    case 1:
                        r = 255-withinSection
                        g = 255
                        b = 0
                        break;
                    case 2:
                        r = 0
                        g = 255
                        b = withinSection
                        break;
                    case 3:
                        r = 0
                        g = 255-withinSection
                        b = 255
                        break;
                    case 4:
                        r = withinSection
                        g = 0
                        b = 255
                        break; 
                    case 5:
                        r = 255
                        g = 0
                        b = 255-withinSection
                        break;    
                }
                return 'rgba('+r+','+g+','+b+',0.5)' 
            }
            
            
            
            
            





        </script>
    </body>
</html>